var t=this&&this.__assign||function(){return t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},t.apply(this,arguments)},e=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(s,a){function i(t){try{c(n.next(t))}catch(t){a(t)}}function o(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?s(t.value):new r((function(e){e(t.value)})).then(i,o)}c((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var r,n,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),a;function o(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(s=2&t[0]?n.return:t[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,t[1])).done)return s;switch(n=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return i.label++,{value:t[1],done:!1};case 5:i.label++,n=t[1],t=[0];continue;case 7:t=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(6===t[0]||2===t[0])){i=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){i.label=t[1];break}if(6===t[0]&&i.label<s[1]){i.label=s[1],s=t;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(t);break}s[2]&&i.ops.pop(),i.trys.pop();continue}t=e.call(t,i)}catch(t){t=[6,t],n=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("htmlparser2"),s=require("@libs/fetch"),a=require("@libs/novelStatus"),i=function(){function i(t){this.id=t.id,this.name=t.sourceName,this.icon="icons/english/ranobestop.png",this.site=t.sourceSite,this.version="1.0.4"}return i.prototype.popularNovels=function(t){return e(this,void 0,void 0,(function(){var e,n;return r(this,(function(r){switch(r.label){case 0:return e="".concat(this.site,"/novels/page/").concat(t,"/"),[4,(0,s.fetchApi)(e)];case 1:return n=r.sent(),[2,this.parseNovels(n)]}}))}))},i.prototype.parseNovels=function(t){var e=[],r=!1,s=!1,a=!1,i={};return new n.Parser({onopentag:function(t,n){"div"===t&&"short-cont"===n.class&&(r=!0),r&&("h2"===t&&"title"===n.class&&(s=!0),s&&"a"===t&&(i.path=n.href,a=!0),"figure"===t&&(i.cover=n.style.replace(/.*url\((.*?)\)./g,"$1")))},ontext:function(t){a&&(i.name=t)},onclosetag:function(t){"a"===t&&(a=!1),"h2"===t&&(s=!1),"div"===t&&(r=!1),i.path&&i.cover&&(e.push(i),i={})}}).write(t),e},i.prototype.parseNovel=function(t){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,{path:t,name:"Ranobes Novel",chapters:[]}]}))}))},i.prototype.parseChapter=function(t){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,"Content will be loaded here."]}))}))},i.prototype.searchNovels=function(t,n){return e(this,void 0,void 0,(function(){return r(this,(function(e){return[2,[]]}))}))},i}();exports.default=new i({id:"ranobestop",sourceSite:"https://ranobes.top",sourceName:"Ranobes Top"});
